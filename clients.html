

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Client compatibility list &mdash; pithos strong-poseidon documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pithos strong-poseidon documentation" href="index.html"/>
        <link rel="prev" title="Developer Guide" href="developer.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pithos
          

          
          </a>

          
            
            
              <div class="version">
                0.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Design and Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="administrator.html">Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">S3 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Client compatibility list</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#s3cmd">s3cmd</a></li>
<li class="toctree-l2"><a class="reference internal" href="#libcloud">libcloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rclone">rclone</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ansible">Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cyberduck">cyberduck</a></li>
<li class="toctree-l2"><a class="reference internal" href="#owncloud">owncloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="#s3fs-s3-fuse-support">s3fs - s3 fuse support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wal-e-continuous-archiving-for-postgres">WAL-E - continuous archiving for Postgres</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#archiving-wal-files">Archiving WAL files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restoring-from-archived-wal-files">Restoring from archived WAL files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#elasticsearch-index-backup-and-restore">elasticsearch - index backup and restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aws-languages-sdks">AWS Languages SDKs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#shell-awscli">Shell (awscli)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-boto3">Python (boto3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-boto">Python (boto)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#net">.NET</a></li>
<li class="toctree-l3"><a class="reference internal" href="#java">Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php">PHP</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pithos</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Client compatibility list</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/clients.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="client-compatibility-list">
<h1>Client compatibility list<a class="headerlink" href="#client-compatibility-list" title="Permalink to this headline">¶</a></h1>
<p>This section needs your help</p>
<div class="section" id="s3cmd">
<h2>s3cmd<a class="headerlink" href="#s3cmd" title="Permalink to this headline">¶</a></h2>
<p>Fully tested with the current API coverage. Here is a minimal
configuration you can put in <code class="docutils literal"><span class="pre">~/.s3cfg</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
<span class="n">host_base</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">host_bucket</span> <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span><span class="n">s</span><span class="o">.</span><span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">access_key</span> <span class="o">=</span> <span class="n">YOUR_ACCESS_KEY</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="n">YOUR_SECRET_KEY</span>
<span class="n">use_https</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">signature_v2</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Adapt with your credentials and replace <code class="docutils literal"><span class="pre">s3.example.com</span></code> with the
value you specified for <code class="docutils literal"><span class="pre">service-uri</span></code>.  <code class="docutils literal"><span class="pre">use_https</span></code> is needed only
if Pithos is served over TLS. Currently pithos doesn’t support v4
signatures so the <code class="docutils literal"><span class="pre">signature_v2</span></code> flag is necessary.</p>
<p>When testing locally, the following configuration can be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
<span class="n">host_base</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">host_bucket</span> <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span><span class="n">s</span><span class="o">.</span><span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">access_key</span> <span class="o">=</span> <span class="n">YOUR_ACCESS_KEY</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="n">YOUR_SECRET_KEY</span>
<span class="n">use_https</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">signature_v2</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">proxy_host</span> <span class="o">=</span> <span class="n">localhost</span>
<span class="n">proxy_port</span> <span class="o">=</span> <span class="mi">8080</span>
</pre></div>
</div>
</div>
<div class="section" id="libcloud">
<h2>libcloud<a class="headerlink" href="#libcloud" title="Permalink to this headline">¶</a></h2>
<p>Working support with the S3 provider:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">libcloud.storage.types</span> <span class="k">import</span> <span class="n">Provider</span>
<span class="kn">from</span> <span class="nn">libcloud.storage.providers</span> <span class="k">import</span> <span class="n">get_driver</span>
<span class="bp">cls</span> <span class="o">=</span> <span class="n">get_driver</span><span class="p">(</span><span class="n">Provider</span><span class="o">.</span><span class="n">S3</span><span class="p">)</span>
<span class="n">driver</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="s1">&#39;api key&#39;</span><span class="p">,</span> <span class="s1">&#39;api secret key&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;s3.example.com&#39;</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">list_containers</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="rclone">
<h2>rclone<a class="headerlink" href="#rclone" title="Permalink to this headline">¶</a></h2>
<p>Working support with the S3 provider:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_TYPE</span><span class="o">=</span><span class="n">s3</span>
<span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_ACCESS_KEY_ID</span><span class="o">=</span><span class="n">YOUR_ACCESS_KEY</span>
<span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="n">YOUR_SECRET_KEY</span>
<span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_REGION</span><span class="o">=</span><span class="n">other</span><span class="o">-</span><span class="n">v2</span><span class="o">-</span><span class="n">signature</span>
<span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_ENDPOINT</span><span class="o">=</span><span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">RCLONE_CONFIG_</span><span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span><span class="n">_ACL</span><span class="o">=</span><span class="n">private</span>
</pre></div>
</div>
</div>
<div class="section" id="ansible">
<h2>Ansible<a class="headerlink" href="#ansible" title="Permalink to this headline">¶</a></h2>
<p>Sample task configuration to list a bucket using the signature V2 by using the
scheme <code class="docutils literal"><span class="pre">fakes3</span></code> <em>(= http)</em> or <code class="docutils literal"><span class="pre">fakes3s</span></code> <em>(= https)</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">List</span> <span class="n">bucket</span> <span class="n">content</span>
  <span class="n">aws_s3</span><span class="p">:</span>
    <span class="n">s3_url</span><span class="p">:</span> <span class="s2">&quot;fakes3s://s3.example.com&quot;</span>
    <span class="n">bucket</span><span class="p">:</span> <span class="s2">&quot;my_bucket&quot;</span>
    <span class="n">mode</span><span class="p">:</span> <span class="nb">list</span>
  <span class="n">register</span><span class="p">:</span> <span class="n">my_bucket_content</span>
</pre></div>
</div>
</div>
<div class="section" id="cyberduck">
<h2>cyberduck<a class="headerlink" href="#cyberduck" title="Permalink to this headline">¶</a></h2>
<p>On-going integration</p>
</div>
<div class="section" id="owncloud">
<h2>owncloud<a class="headerlink" href="#owncloud" title="Permalink to this headline">¶</a></h2>
<p>Working support</p>
</div>
<div class="section" id="s3fs-s3-fuse-support">
<h2>s3fs - s3 fuse support<a class="headerlink" href="#s3fs-s3-fuse-support" title="Permalink to this headline">¶</a></h2>
<p>Working support. If you specified <code class="docutils literal"><span class="pre">s3.example.com</span></code> as
<code class="docutils literal"><span class="pre">service-uri</span></code>, you can mount the bucket <code class="docutils literal"><span class="pre">bucket</span></code> with the
following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s3fs</span> <span class="n">bucket</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">bucket</span> <span class="o">-</span><span class="n">o</span> <span class="n">url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>The credentials have to be specified in <code class="docutils literal"><span class="pre">~/.passwd-s3fs</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">YOUR_ACCESS_KEY</span><span class="p">:</span><span class="n">YOUR_SECRET_KEY</span>
</pre></div>
</div>
</div>
<div class="section" id="wal-e-continuous-archiving-for-postgres">
<h2>WAL-E - continuous archiving for Postgres<a class="headerlink" href="#wal-e-continuous-archiving-for-postgres" title="Permalink to this headline">¶</a></h2>
<p>Support for S3-compatible object stores was added in version 0.8 of WAL-E.
Configure WAL-E with the following environment variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>AWS_ACCESS_KEY_ID</td>
<td>YOUR_ACCESS_KEY</td>
</tr>
<tr class="row-even"><td>AWS_SECRET_ACCESS_KEY</td>
<td>YOUR_SECRET_KEY</td>
</tr>
<tr class="row-odd"><td>WALE_S3_ENDPOINT</td>
<td>https+path://s3.example.com</td>
</tr>
<tr class="row-even"><td>WALE_S3_PREFIX</td>
<td>s3://your-bucket/your-prefix</td>
</tr>
</tbody>
</table>
<div class="section" id="archiving-wal-files">
<h3>Archiving WAL files<a class="headerlink" href="#archiving-wal-files" title="Permalink to this headline">¶</a></h3>
<p>Postgresql needs the following settings in <code class="docutils literal"><span class="pre">postresql.conf</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wal_level</span> <span class="o">=</span> <span class="n">archive</span>
<span class="n">archive_mode</span> <span class="o">=</span> <span class="n">on</span>
<span class="n">archive_command</span> <span class="o">=</span> <span class="s1">&#39;envdir /etc/wal-e.d/env /path/to/wal-e wal-push %p&#39;</span>
<span class="n">archive_timeout</span> <span class="o">=</span> <span class="mi">60</span>
</pre></div>
</div>
<p>Once postgres is setup to send WAL files, make a base backup with <code class="docutils literal"><span class="pre">envdir</span>
<span class="pre">/etc/wal-e.d/env</span> <span class="pre">/path/to/wal-e</span> <span class="pre">backup-push</span> <span class="pre">/path/to/postgres/data</span></code></p>
</div>
<div class="section" id="restoring-from-archived-wal-files">
<h3>Restoring from archived WAL files<a class="headerlink" href="#restoring-from-archived-wal-files" title="Permalink to this headline">¶</a></h3>
<p>Pull a base backup:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">envdir</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">wal</span><span class="o">-</span><span class="n">e</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">env</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">wal</span><span class="o">-</span><span class="n">e</span> <span class="n">backup</span><span class="o">-</span><span class="n">fetch</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">postgres</span><span class="o">/</span><span class="n">data</span> <span class="n">LATEST</span>
</pre></div>
</div>
<p>Create a <code class="docutils literal"><span class="pre">recovery.conf</span></code> file in the postgres data dir with the following
content:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restore_command</span> <span class="o">=</span> <span class="s1">&#39;envdir /etc/wal-e.d/env /path/to/wal-e wal-fetch &quot;</span><span class="si">%f</span><span class="s1">&quot; &quot;%p&quot;&#39;</span>
</pre></div>
</div>
<p>Start postgresql and check the logs to see its restore status.</p>
</div>
</div>
<div class="section" id="elasticsearch-index-backup-and-restore">
<h2>elasticsearch - index backup and restore<a class="headerlink" href="#elasticsearch-index-backup-and-restore" title="Permalink to this headline">¶</a></h2>
<p>Snapshotting and restoring indices to Pithos is supported thanks to the <a class="reference external" href="https://github.com/elasticsearch/elasticsearch-cloud-aws">AWS
Cloud Plugin</a>. To configure a snapshot repository that points to your pithos
installation, simply add to your <code class="docutils literal"><span class="pre">/etc/elasticsearch/elasticsearch.yml</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">cloud</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">aws</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">access_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;your key&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">secret_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;your secret&gt;</span>
    <span class="l l-Scalar l-Scalar-Plain">s3</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https</span>
      <span class="l l-Scalar l-Scalar-Plain">endpoint</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">s3.example.com</span>
</pre></div>
</div>
<p>Then create your repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ curl -XPUT &#39;http://localhost:9200/_snapshot/pithos&#39; -d &#39;{
    &quot;type&quot;: &quot;s3&quot;,
    &quot;settings&quot;: {
        &quot;bucket&quot;: &quot;es-snapshots&quot;
    }
}&#39;
</pre></div>
</div>
<p>Starting with version 2.4.2 of the plugin, all settings can be provided
per-repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ curl -XPUT &#39;http://localhost:9200/_snapshot/pithos&#39; -d &#39;{
    &quot;type&quot;: &quot;s3&quot;,
    &quot;settings&quot;: {
        &quot;bucket&quot;: &quot;es-snapshots&quot;,
        &quot;access_key&quot;: &quot;your key&quot;,
        &quot;secret_key&quot;: &quot;your secret&quot;,
        &quot;protocol&quot;: &quot;http&quot;,
        &quot;endpoint&quot;: &quot;s3.example.com&quot;,
    }
}&#39;
</pre></div>
</div>
</div>
<div class="section" id="aws-languages-sdks">
<h2>AWS Languages SDKs<a class="headerlink" href="#aws-languages-sdks" title="Permalink to this headline">¶</a></h2>
<p>In general, AWS Language SDKs can work with Pithos with the following
configuration:</p>
<ul>
<li><p class="first">In <code class="docutils literal"><span class="pre">~/.aws/config</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
<span class="n">s3</span> <span class="o">=</span>
    <span class="n">signature_version</span> <span class="o">=</span> <span class="n">s3</span>
</pre></div>
</div>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">~/.aws/credentials</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
<span class="n">aws_access_key_id</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">key</span><span class="o">&gt;</span>
<span class="n">aws_secret_access_key</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">secret</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ul>
<p>You can have multiple profiles instead of altering the <code class="docutils literal"><span class="pre">[default]</span></code>
configuration. Simply repeat configuration sections and name them <code class="docutils literal"><span class="pre">[profile</span>
<span class="pre">&lt;profile</span> <span class="pre">name&gt;]</span></code></p>
<div class="section" id="shell-awscli">
<h3>Shell (awscli)<a class="headerlink" href="#shell-awscli" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="https://aws.amazon.com/cli/">awscli</a>, then:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">aws</span> <span class="n">s3</span> <span class="n">ls</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">endpoint</span>
</pre></div>
</div>
<p>To use a non-default profile:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">aws</span> <span class="n">s3</span> <span class="n">ls</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">your</span><span class="o">-</span><span class="n">endpoint</span> <span class="o">--</span><span class="n">profile</span><span class="o">=&lt;</span><span class="n">profile</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="python-boto3">
<h3>Python (boto3)<a class="headerlink" href="#python-boto3" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="https://boto3.readthedocs.io/en/latest/">boto3</a> and create a Pithos client like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3.session</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">,</span> <span class="n">endpoint_url</span><span class="o">=</span><span class="s1">&#39;https://pithos-endpoint&#39;</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">list_buckets</span><span class="p">()</span>
</pre></div>
</div>
<p>To use a non-default profile:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3.session</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">profile_name</span><span class="o">=</span><span class="s1">&#39;profile-name&#39;</span><span class="p">)</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">,</span> <span class="n">endpoint_url</span><span class="o">=</span><span class="s1">&#39;https://pithos-endpoint&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="python-boto">
<h3>Python (boto)<a class="headerlink" href="#python-boto" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://boto.cloudhackers.com/en/latest/">Boto</a> version 2 is boto3’s ancestor but is still widely used. It doesn’t
take <code class="docutils literal"><span class="pre">~/.aws/*</span></code> configuration files into account.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">boto.s3.connection</span> <span class="kn">import</span> <span class="n">S3Connection</span><span class="p">,</span> <span class="n">OrdinaryCallingFormat</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">S3Connection</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;pithos-endpoint&#39;</span><span class="p">,</span>
                          <span class="n">port</span><span class="o">=</span><span class="mi">443</span><span class="p">,</span> <span class="n">is_secure</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                          <span class="n">calling_format</span><span class="o">=</span><span class="n">OrdinaryCallingFormat</span><span class="p">())</span>
<span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s1">&#39;your-bucket&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="net">
<h3>.NET<a class="headerlink" href="#net" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="https://www.nuget.org/packages/AWSSDK.S3/">AWSSDK.S3</a>, then:</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">Amazon</span><span class="p">.</span><span class="n">AWSConfigsS3</span><span class="p">.</span><span class="n">UseSignatureVersion4</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Amazon</span><span class="p">.</span><span class="n">S3</span><span class="p">.</span><span class="n">AmazonS3Config</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ServiceURL</span> <span class="p">=</span> <span class="n">host</span><span class="p">,</span>
    <span class="n">SignatureVersion</span> <span class="p">=</span> <span class="s">&quot;s3&quot;</span><span class="p">,</span>
<span class="p">};</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Amazon</span><span class="p">.</span><span class="n">S3</span><span class="p">.</span><span class="n">AmazonS3Client</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretKey</span><span class="p">,</span> <span class="n">config</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="java">
<h3>Java<a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="https://aws.amazon.com/sdk-for-java/">AWS SDK for Java</a>, then:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">com.amazonaws.ClientConfiguration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.amazonaws.services.s3.AmazonS3Client</span><span class="o">;</span>

<span class="n">ClientConfiguration</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientConfiguration</span><span class="o">();</span>
<span class="n">config</span><span class="o">.</span><span class="na">setSignerOverride</span><span class="o">(</span><span class="s">&quot;S3SignerType&quot;</span><span class="o">);</span>
<span class="n">AmazonS3Client</span> <span class="n">s3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AmazonS3Client</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>
<span class="n">s3</span><span class="o">.</span><span class="na">setEndpoint</span><span class="o">(</span><span class="s">&quot;https://your-endpoint&quot;</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="php">
<h3>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="http://docs.aws.amazon.com/aws-sdk-php/v2/guide/installation.html">PHP AWS SDK</a> - important: Only Version2 is suitable (Version 3 only supports SignatureVersion 4, which is not yet implemented). After install, use something like this:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// connect</span>
<span class="x">$s3Client=Aws\S3\S3Client::factory([</span>
<span class="x">    &#39;base_url&#39;=&gt;&#39;https://your-endpoint.com&#39;,</span>
<span class="x">    &#39;key&#39;=&gt;&#39;your-key&#39;,</span>
<span class="x">    &#39;secret&#39;=&gt;&#39;your-secret&#39;,</span>
<span class="x">    &#39;region&#39;=&gt;&#39;region&#39;, // must be filled with something, even if you have no regions</span>
<span class="x">]);</span>

<span class="x">// list all files in bucket</span>
<span class="x">$iterator = $s3Client-&gt;getIterator(&#39;ListObjects&#39;, array(</span>
<span class="x">    &#39;Bucket&#39; =&gt; $bucket,</span>
<span class="x">    &#39;Prefix&#39; =&gt; &#39;foo&#39;</span>
<span class="x">));</span>

<span class="x">foreach ($iterator as $object) {</span>
<span class="x">    echo $object[&#39;Key&#39;] . &quot;\n&quot;;</span>
<span class="x">}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="developer.html" class="btn btn-neutral" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Exoscale.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'strong-poseidon',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>